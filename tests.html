
<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<title>MAILNARA ::: acebed.co.kr</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<!-- Light version -->
<link href="/new_adm/css/bootstrap.css" rel="stylesheet" type="text/css">
<link href="/new_adm/css/pixeladmin.css" rel="stylesheet" type="text/css">
<link href="/new_adm/css/widgets.css" rel="stylesheet" type="text/css">
<!--// Light version -->

<!-- Theme -->
<link href="/new_adm/css/daterangepicker.min.css" rel="stylesheet" type="text/css">
<link href="/new_adm/css/default.css" rel="stylesheet" type="text/css">
<link href="/new_adm/css/font-awesome.min.css" rel="stylesheet" type="text/css">
<link href="/new_adm/css/jstreestyle.css" rel="stylesheet" type="text/css">
<link href="/new_adm/css/common.css" rel="stylesheet" type="text/css">
<!-- //Theme -->

<script src="/new_adm/js/jquery.min.js?ver=1"></script>
<script src="/new_adm/js/bootstrap.js"></script>
<script src="/new_adm/js/pixeladmin.js"></script>
<script src="/new_adm/js/jquery.daterangepicker.min.js"></script>
<script src="/new_adm/js/common.js"></script>
<script src="/new_adm/js/jstree.min.js"></script>
<script src="/new_adm/js/jquery.placeholder.min.js"></script>

</head>

<body id="newThema">
	<!--왼쪽메뉴-->
	<nav class="px-nav px-nav-left" id="px-nav-dropdowns-left">
		<!--메뉴 버튼-->
		<button type="button" class="px-nav-toggle" data-toggle="px-nav">
		  <span class="navbar-toggle-icon"></span>
		  <span class="px-nav-toggle-label" style="font-size: 11px;">HIDE MENU</span>
		</button>
		<!--//메뉴 버튼-->

		<!--메뉴 버튼-->
		<ul class="px-nav-content">
			<li class="px-nav-item px-nav-dropdown">
				<a href="#"><i class="px-nav-icon fa fa-envelope"></i><span class="px-nav-label">메일 관리</span></a>
				<ul class="px-nav-dropdown-menu">
					<li class="px-nav-item"><a href="/new_adm/index.php/mail_service_setting/index"><span class="px-nav-label">메일 서비스 관리</span></a></li>
					<li class="px-nav-item"><a href="/new_adm/index.php/mail_service_setting/setting_mail_screen"><span class="px-nav-label">메일 화면 설정</span></a></li>
				</ul>
			</li>
			<li class="px-nav-item px-nav-dropdown">
				<a href="#"><i class="px-nav-icon fa fa-sitemap"></i><span class="px-nav-label">조직도 관리</span></a>
				<ul class="px-nav-dropdown-menu">
					<li class="px-nav-item"><a href="/new_adm/index.php/organization/department"><span class="px-nav-label">회사 부서 관리</span></a></li>
					<li class="px-nav-item"><a href="/new_adm/index.php/organization/position"><span class="px-nav-label">회사 직급 관리</span></a></li>
				</ul>
			</li>
			<li class="px-nav-item px-nav-dropdown">
				<a href="#"><i class="px-nav-icon fa fa-user"></i><span class="px-nav-label">메일 계정 관리</span></a>
				<ul class="px-nav-dropdown-menu">
					<li class="px-nav-item"><a href="/new_adm/index.php/mail_account_setting/index"><span class="px-nav-label">메일 계정 전체 목록</span></a></li>
					<li class="px-nav-item"><a href="/new_adm/index.php/mail_account_setting/register_large_account"><span class="px-nav-label">메일 계정 대량 등록</span></a></li>
					<li class="px-nav-item"><a href="/new_adm/index.php/mail_account_setting/modify_large_account"><span class="px-nav-label">메일 계정 일괄 수정</span></a></li>
				</ul>
			</li>
			<li class="px-nav-item px-nav-dropdown">
				<a href="#"><i class="px-nav-icon fa fa-group"></i><span class="px-nav-label">메일 그룹 관리</span></a>
				<ul class="px-nav-dropdown-menu">
					<li class="px-nav-item"><a href="/new_adm/index.php/mail_group_setting/index"><span class="px-nav-label">메일 그룹 전체 목록</span></a></li>
					<li class="px-nav-item"><a href="/new_adm/index.php/mail_group_setting/register_large_group"><span class="px-nav-label">메일 그룹 대량 등록</span></a></li>
					<li class="px-nav-item"><a href="/new_adm/index.php/mail_group_setting/modify_large_group"><span class="px-nav-label">메일 그룹 일괄 수정</span></a></li>
				</ul>
			</li>
			<li class="px-nav-item px-nav-dropdown">
				<a href="#"><i class="px-nav-icon fa fa-lock"></i><span class="px-nav-label">메일 보안 관리</span></a>
				<ul class="px-nav-dropdown-menu">
					<li class="px-nav-item"><a href="/new_adm/index.php/mail_security_setting/index"><span class="px-nav-label">메일 접속 보안 설정</span></a></li>
					<li class="px-nav-item"><a href="/new_adm/index.php/mail_security_setting/security_account"><span class="px-nav-label">메일 계정 보안 설정</span></a></li>
					<li class="px-nav-item"><a href="/new_adm/index.php/mail_security_setting/approved_mail"><span class="px-nav-label">승인 메일 설정</span></a></li>
					<li class="px-nav-item"><a href="/new_adm/index.php/mail_security_setting/reception"><span class="px-nav-label">수신 허용/거부 설정</span></a></li>
					<li class="px-nav-item"><a href="/new_adm/index.php/mail_security_setting/spam"><span class="px-nav-label">스팸 정책 설정</span></a></li>
				</ul>
			</li>
			<li class="px-nav-item px-nav-dropdown">
				<a href="#"><i class="px-nav-icon fa fa-file-text"></i><span class="px-nav-label">게시판 관리</span></a>
				<ul class="px-nav-dropdown-menu">
					<li class="px-nav-item"><a href="/new_adm/index.php/board/index"><span class="px-nav-label">게시판 현황</span></a></li>
				</ul>
			</li>
			<li class="px-nav-item px-nav-dropdown">
				<a href="#"><i class="px-nav-icon fa fa-mobile-phone fa-lg"></i><span class="px-nav-label">SMS 관리</span></a>
				<ul class="px-nav-dropdown-menu">
					<li class="px-nav-item"><a href="/new_adm/index.php/sms_setting/index"><span class="px-nav-label">SMS 설정 등록</span></a></li>
				</ul>
			</li>
			<li class="px-nav-item px-nav-dropdown">
				<a href="#"><i class="px-nav-icon fa fa-bar-chart-o"></i><span class="px-nav-label">리포트</span></a>
				<ul class="px-nav-dropdown-menu">
					<li class="px-nav-item"><a href="/new_adm/index.php/report/"><span class="px-nav-label">메일 전체 리포트</span></a></li>
					<li class="px-nav-item"><a href="/new_adm/index.php/report/mail_detail_day"><span class="px-nav-label">일별 메일 현황</span></a></li>
                    <li class="px-nav-item"><a href="/new_adm/index.php/report/mail_detail_account"><span class="px-nav-label">계정별 메일 현황</span></a></li>
                    <li class="px-nav-item"><a href="/new_adm/index.php/report/mail_send_log"><span class="px-nav-label">메일 발송 로그 현황</span></a></li>
					<li class="px-nav-item"><a href="/new_adm/index.php/report/board_report"><span class="px-nav-label">게시판 현황 리포트</span></a></li>
				</ul>
			</li>
			<!--<li class="px-nav-item px-nav-dropdown">
				<a href="#"><i class="px-nav-icon fa fa-file-text"></i><span class="px-nav-label">백업 관리</span></a>
				<ul class="px-nav-dropdown-menu">
					<li class="px-nav-item"><a href="#"><span class="px-nav-label">백업 신청</span></a></li>
					<li class="px-nav-item"><a href="#"><span class="px-nav-label">백업 신청 현황</span></a></li>
				</ul>
			</li>-->
		</ul>
		<!--//메뉴 버튼-->
	</nav>
	<!--//왼쪽메뉴-->
    
    <!--헤더 오른쪽-->
	<nav class="navbar px-navbar">
		<div class="navbar-header">
			<a class="navbar-brand" href="/new_adm">
                <img src="/admin/logo_view.php" alt="메일나라" class="no_img">
            </a>
		</div>
		<div class="navbar-collapse">
			<ul class="nav navbar-nav navbar-right">
				<li class="dropdown">
					<a href="#" class="dropdown-toggle" data-toggle="dropdown" aria-expanded="true"><i class="fa fa-user fa-fw"></i> 관리자모드 <span><b>접속중</b></span> <i class="fa fa-angle-down"></i></a>
					<ul class="dropdown-menu dropdown-menu-right">
						<li>
							<a href="https://mailnara.co.kr/index.php/customer/download_manual/Mailnara_WebMail_Manual_For_Admin_V4.0.pdf" target="_new"><i class="fa fa-download"></i> 관리자 가이드 다운로드</a>
						</li>
                                                    <li>
                                <a href="#;" data-toggle="modal" data-target="#change_password"><i class="fa fa-unlock-alt"></i> 비밀번호 변경</a>
                            </li>
                                                
												<li>
							<a href="/logout.php"><i class="fa fa-power-off"></i> 로그아웃</a>
						</li>
											</ul>
				</li>
			</ul>
		</div>
	</nav>
	<!--//헤더 오른쪽-->

	<!--비밀번호 변경 팝업-->
	<div class="modal fade" id="change_password">
		<div class="modal-dialog" style="width:400px;">
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal">×</button>
					<h4 class="modal-title">관리자 비밀번호 변경</h4>
				</div>
				<div class="modal-body">
					<dl>
						<dt>도메인</dt>
						<dd><input type="text" class="form-control" value="acebed.co.kr" disabled=""></dd>
					</dl>
					<dl>
						<dt>아이디</dt>
						<dd><input id="admin_id" type="text" class="form-control" value="admin" disabled=""></dd>
					</dl>
					<dl>
						<dt>비밀번호</dt>
						<dd><input id="admin_passwd" type="password" class="form-control" autocomplete="new-password" maxlength="20"></dd>
					</dl>
					<div class="well well-sm font-size-11">
						<ul class="validte_password">
							<li id="lengthChars"><i class="fa fa-check"></i> 비밀번호는 8~20자로 입력하세요.</li><!-- [D] 비밀번호 validation 체크 성공시 li요소에 .valid 추가 -->
							<li id="mixAll"><i class="fa fa-check"></i> 숫자와 영문자를 혼합하여 사용하세요.</li>
							<li id="mixSChar"><i class="fa fa-check"></i> 하나이상의 특수문자 !@#$%&amp;()_를 섞어서 만드세요.</li>
							<li id="noRepeat"><i class="fa fa-check"></i> 같은 문자를 3회 이상 입력 할 수 없습니다.</li>
							<li id="noID"><i class="fa fa-check"></i> 아이디와 도메인을 포함할 수 없습니다.</li>
							<li id="noContinuous"><i class="fa fa-check"></i> 연속된 문자가 포함 될 수 없습니다. (ex 123, abc)</li>
						</ul>
					</div>
				</div>
				<div class="modal-footer">
                    <button id="change_passwd_btn" type="button" class="btn btn-primary" onclick="change_admin_passwd()" disabled>변경</button>
					<button type="button" class="btn" data-dismiss="modal">취소</button>
				</div>
			</div>
		</div>
	</div>
	<!--//비밀번호 변경 팝업-->

    <script>
        var pValid = false;

    // 관리자 비밀 번호를 변경한다.
    function change_admin_passwd() {
        if(!pValid) {
            alert('관리자 비밀번호가 유효하지 않습니다.\n다시 입력해주세요!');
            return false;
        }

        var admin_passwd = $('#admin_passwd').val();

        $.ajax({
            type: 'POST',
            url: '/new_adm/index.php/main/change_admin_passwd',
            dataType: 'JSON',
            data: {
                'passwd': admin_passwd
            },
            success: function(data, status) {
                if(data.result_code == 1) {
                    alert('비밀번호가 변경되었습니다.');
                    $("#change_password").modal('toggle');
                }
                else {
                    alert(data.result + ' (' + data.result_code + ')');
                }
            },
            fail: function(data, status) {
                alert('비밀번호 변경 중 오류가 발생했습니다.\n' + status);
            }
        });
    }

    $("#admin_passwd").keyup(function() {
        var desc_target = $("#invalid_desc");
        pValid = pw_check($(this).val(), $("#lengthChars"), $("#mixAll"), $("#mixSChar"), $("#noRepeat"), $("#noID"), $("#noContinuous"), desc_target);
        if(pValid) {
            $("#change_passwd_btn").prop("disabled", false);
        }
        else {
            $("#change_passwd_btn").prop("disabled", true);

            if($("#admin_passwd").val().length<=0) {
                $('#lengthChars').removeClass('valid');
                $('#mixAll').removeClass('valid');
                $('#mixSChar').removeClass('valid');
                $('#noRepeat').removeClass('valid');
                $('#noID').removeClass('valid');
                $('#noContinuous').removeClass('valid');
            }
        }
    });

    // 패스워드 형식 체크
    function pw_check(pw, chk1, chk2, chk3, chk4, chk5, chk6, target) {
        var bValid = true;
        bValid = pw_purelength(pw, chk1, target) && bValid;
        bValid = pw_mixed(pw, chk2, target) && bValid ;
        bValid = pw_mixedSpecialChar(pw, chk3, target) && bValid;
        bValid = pw_repeat(pw, chk4, target) && bValid;
        bValid = pw_idcheck(pw, chk5, target) && bValid;
        bValid = (true==pw_detail(pw, chk6, target)) && bValid;
        return bValid;
    }

    function pw_purelength(str, o, t) {
        var len = str.length;
        if(len < 8) {
            $("#meterul li").each(function(){
                $(this).removeClass("valid");
            });
            return false;
        } else if (len > 20) {
            $("#meterul li").each(function(){
                $(this).removeClass("valid");
            });
            return false;
        }

        o.addClass("valid");
        return true;
    }

    function pw_mixedSpecialChar(str, o, t) {
        var rgExp_pwd = /[!@#$%&()_]/;
        if(!rgExp_pwd.test(str)) {
            o.removeClass("valid");
            return false;
        }
        o.addClass("valid");
        return true;
    }

    function pw_idcheck(str, o, t) {
        var id = $("#admin_id").val();
        if(str == id) {
            o.removeClass("valid");
            return false;
        }
        if (str.indexOf(id) > -1) {
            o.removeClass("valid");
            return false;
        }
        o.addClass("valid");
        return true;
    }
    function pw_mixed(str, o, t) {
        var chk_num = str.search(/[0-9]/g);
        var chk_eng = str.search(/[a-z]/ig);
        if(chk_num < 0 || chk_eng < 0) {
            o.removeClass("valid");
            return false;
        }
        o.addClass("valid");
        return true;
    }

    function pw_repeat(str, o, t) {
        var chk_pwd = /(\w)\1\1/;
        if(chk_pwd.test(str)) {
            o.removeClass("valid");
            return false;
        }
        o.addClass("valid");
        return true;
    }

    function pw_detail(str, o, t) {
        var len = str.length;
        var ch1;
        var ch2;
        var ch3;
        var ac1;
        var ac2;
        var ac3;

        for(var i = 0; i < len; i++) {
            ch1 = str.charAt(i);
            ch2 = str.charAt(i+1);
            ch3 = str.charAt(i+2);

            ac1 = ch1.charCodeAt(0);
            ac2 = ch2.charCodeAt(0);
            ac3 = ch3.charCodeAt(0);

            if (ch1 == ch2 && ch1 == ch3 && ch2 == ch3) {
                o.removeClass("valid");
                o.addClass("invalid");
                //비밀번호는 동일한 문자가 연속될 수 없습니다.\nex:(aaa,111,zz333)
                return 10;
            }
            else if ((ac1 + 1) == ac2 && (ac1 + 2) == ac3 && (ac2 + 1) == ac3) {
                o.removeClass("valid");
                o.addClass("invalid");
                //비밀번호는 연속된  문자가 포함될 수 없습니다.\nex:(123,987,abc,zyx)
                return 20;
            }
            else if((ac1 - 1) == ac2 && (ac1 - 2) == ac3 && (ac2 - 1) == ac3) {
                o.removeClass("valid");
                o.addClass("invalid");
                //비밀번호는 연속된  문자가 포함될 수 없습니다.\nex:(123,987,abc,zyx)
                return 20;
            }
        }
        o.addClass("valid");
        o.removeClass("invalid");
        return true;
    }
    
    function go_mydirect(tarurl) {
        var $form;

        if(sso_used == "0") {
            window.open("https://mydirect.co.kr");
            return true;
        }

        $.ajax({
            type: "POST",
            url: "/new_adm/index.php/mail_service_setting/sso_mydirect",
            dataType: "json",
            data: {
                "tarurl": tarurl
            },
            success: function(data) {
                if(data.result_code > 1) {
                    alert(data.result + " (" + data.result_code + ")");
                    return false;
                }
                $form = $(data.result['form']);
                $form.appendTo('body');
                $form.submit();
                $form.remove();
            },
            fail: function(data) {

            }
        });
    }


    function check_sso() {
        if(!validate_sso_key()) {
            return false;
        }

        $.ajax({
            type: "POST",
            url: "/new_adm/index.php/mail_service_setting/check_sso",
            dataType: "json",
            data: {
                "sso_key": $("#sso_key").val().trim(),
                "sso_used": "1"
            },
            success: function(data) {
                if(data.result_code > 1) {
					$("#success_sso").css("display", "none");
                    $("#fail_sso").css("display", "");
                    $("#fail_sso").children("font").html(data.result);
					sso_used = "0";
                    return false;
                }

                sso_used = "1";
                $("#fail_sso").css("display", "none");
                $("#success_sso").css("display", "");
            },
            fail: function(data) {

            }
        });
    }

    function validate_sso_key() {
        var sso_key = $("#sso_key");
        var success_sso = $("#success_sso");
        var fail_sso = $("#fail_sso");

        if(sso_key.val().trim() == "") {
            success_sso.css("display", "none");
            fail_sso.css("display", "");
            fail_sso.children("font").html("인증키를 입력해주세요!");
            sso_key.focus();
            return false;
        }

        var preg_pattern =  /^[a-z0-9+]*$/;
        if(!preg_pattern.test(sso_key.val())) {
            success_sso.css('display', 'none');
            fail_sso.css("display", "");
            fail_sso.children("font").html("유효하지 않은 인증키입니다.");
            return false;
        }

        return true;
    }

	$("#change_password").on('hide.bs.modal', function(e){
		reset_admin_passwd();
		e.stopImmediatePropagation();

	});

	function reset_admin_passwd(){
		$("#admin_passwd").val('');
		$('#lengthChars').removeClass('valid');
       	$('#mixAll').removeClass('valid');
  		$('#mixSChar').removeClass('valid');
  		$('#noRepeat').removeClass('valid');
    	$('#noID').removeClass('valid');
    	$('#noContinuous').removeClass('valid');
	}

</script>

<!--<script type="text/javascript" src="https://code.jquery.com/ui/1.12.1/jquery-ui.js" ></script>-->
<script type="text/javascript" src="/templates/templates/new_admin/script/jquery-ui.min.js"></script>
<!--<link href="https://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css" rel="stylesheet" type="text/css" />-->
<link href="/templates/templates/new_admin/css/jquery-ui.css" rel="stylesheet" type="text/css"/>
<script src="/new_adm/js/mailnara/board.js"></script>

<script type="text/javascript">

	jQuery.ajaxSettings.traditional = true;
	var sso_used = '0';
    $(document).ready(function(){
        //왼쪽메뉴 선택시 보여지는 디자인
        var $depth1 = $(".px-nav-content").children("li").eq(5);
        var $depth2 = $depth1.find(".px-nav-dropdown-menu").children("li").eq(0);
        sort_able = 'Y';
        $depth1.addClass("px-open active");
        $depth2.addClass("active");

		$("input[name=search_value]").keydown(function (key) {
            if(key.keyCode == 13){//키가 13이면 실행 (엔터는 13)
                search();
            }
        });


        mail_pie2('#board-pres','data-2','8');

        $(".boardpresBox").hide();

        $('#dataTables-example').DataTable({
            colReorder: true,
            destroy: true,
            "responsive": true,
            "lengthChange": true,
            "searching": false,
            "language": {
                "paginate": {
                    "previous": "<",
                    "next": ">",
                    "first": "<<",
                    "last": ">>"
                },
                "sZeroRecords": "데이터가 없습니다.",
                "sInfo": "", //하단 리스트갯수
                "sInfoEmpty": "",
                "sInfoFiltered": "",
                "sLengthMenu": "_MENU_", //페이지 리스트정렬
                "sSearch": "검색 ", //검색
                "sSearchPlaceholder": "게시판명 / 관리자 / 부서 / 요약게시판"
            },
            "lengthMenu": [20,40,60,80,100,120,150,180,200], pagingType: "full_numbers",
            "columns": [
                {"orderable": false, "searchable": false},
                null,
                null,
                null,
                {"searchable": false},
                {"orderable": false, "searchable": false},
                {"orderable": false, "searchable": false},
                {"orderable": false, "searchable": false},
                {"orderable": false},
                {"orderable": false, "searchable": false},
                {"orderable": false, "searchable": false}
            ],
            "columnDefs": [
                { "type": 'file-size', "targets": 4 }
            ],
            "order": [] //맨앞 자동정렬표시 안되게,


        });

        //file-size 대로 정렬해주는 플러그인
        jQuery.fn.dataTable.ext.type.order['file-size-pre'] = function ( data ) {
            var matches = data.match( /^(\d+(?:\.\d+)?)\s*([a-z]+)/i );
            var multipliers = {
                b:  1,
                bytes: 1,
                kb: 1000,
                kib: 1024,
                mb: 1000000,
                mib: 1048576,
                gb: 1000000000,
                gib: 1073741824,
                tb: 1000000000000,
                tib: 1099511627776,
                pb: 1000000000000000,
                pib: 1125899906842624
            };

            if (matches) {
                var multiplier = multipliers[matches[2].toLowerCase()];
                return parseFloat( matches[1] ) * multiplier;
            } else {
                return -1;
            };
        };

/*

        $('.sorting, .sorting_asc, .sorting_desc').dblclick (function () {
            $('#dataTables-example').fnSort([]);
            return false;
        });
*/


        $('#dataTables-example_wrapper div').removeClass('table-header');
        $("#dataTables-example_filter input").css('width','200px');

        get_board_list(0,20,0,'','');

        $('#dataTables-example th').click(function(e) {

            if($(this).hasClass('sorting_disabled')){
                return;
            }
            sort_able = 'N';
            $("#sortable_board").sortable('disable');
            $("#reset_filter_button").show();
        });

		// 정렬중에 순서 변경할 수 없게 수정
		// $('#dataTables-example').on('click', 'th', function () {
		// 	$("#sortable_board").sortable('disable');
		// });

        $.fn.dataTableExt.oApi.fnSortNeutral = function ( oSettings )
        {
            /* Remove any current sorting by adding for example default sorting or leave it empty */
            oSettings.aaSorting = [[ 1, "desc" ]];
            /* Redraw */
            oSettings.oApi._fnReDraw( oSettings );
        };

		init_sort();

        /*$('input[type=radio][name=division]').on('change', function() {
            console.log($(this).val());
            switch ($(this).val()) {
                case 'ALL':
                    $('input:radio[name="other_permit"]').attr('disabled',false);
                    break;
                case 'person':
                    $('input:radio[name="other_permit"][value="4"]').prop('checked', true);
                    $('input:radio[name="other_permit"]').attr('disabled',true);
                    break;
            }
        });*/
    });

    //계정삭제 시 안내문구 추가 및 전체 체크박스 해제
    listRemoveFn = function(obj, name, type){
        var $obj = $(obj);
        var $name = $(name);

        if ($(obj).find("input").is(":checked")) {
            $(obj).find("input[type=checkbox]:checked").parents("tr").remove();
        }

        if ($obj.find("tr").length == 0)
        {
            $obj.append("<tr><td colspan='11' class='text-center'>등록된 게시판이 없습니다.</td></tr>");

            if ($name.is(":checked"))
            {
                $name.prop("checked",false);
            }
        }
    }




    //-->

</script>

<style type="text/css">
	#listBox tr.placeholder { height: 20px; }
	.ui-tooltip:before {
		content:"";
		top:-6px;
		left:270px;
		margin-left:0;
	}
	.dataTable thead th::before, .dataTable thead th::after { top:36px; }
</style>

<div class="px-content">
	<input type="hidden" id="board_order" name="board_order">

    <div class="page-header">
        <div class="row">
            <div class="col-md-4 text-xs-center text-md-left text-nowrap"> 
                <h1 class="board_tit">게시판 현황 <a href="#;" onclick="toggleFn('.boardpresBox');"><font class="board_order text-info"><!--용량 95% 넘는 경우 클래스 변경<font class="text-danger">-->14,331MB</font><font>/201,200MB</font></a></h1>
                <div class="boardpresBox" >
                    <div id="board-pres" style="height:80px;"></div>
                    <span>게시판 총용량 중 8%사용</span>
                </div>
                <p class="font-size-13 text-info">
                    - 게시판을 마우스로 선택하여 드래그&드롭시 게시판 순서가 변경되며 사용자 게시판 순서에서도 변경 적용 됩니다.
                </p>
            </div>
        </div>
    </div>
    <div class="mailadmin p-x-3 p-y-2">
        <div class="table-light">
            <div class="pull-left m-b-1" id="left_box">
                <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#borderSet" onclick="open_add_board();" id="add_board_button">등록</button>
                <button type="button" class="btn btn-gray" onclick="delete_board();">삭제</button>
                                <button type="button" class="btn filterBtn" style="display: none" onclick="reset_filter();"  id="reset_filter_button"><i class="fa fa-filter"></i><i class="fa fa-remove"></i> 필터제거</button>
            </div>
            <div class="pull-right search-box m-b-1">
                <span class="se_ru" id="search_result" style="display: none"><i class="fa fa-repeat" onclick="location.reload();"></i> <font class="text-info" id="search_info">검색결과 1건</font></span><!--검색할 시 보여짐-->
                <select class="form-control" style="width:120px;" id="search_key">
                    <option value="1" selected="">게시판명</option>
                    <option value="2">관리자</option>
                    <option value="3">부서</option>
                    <option value="4">요약게시판</option>
                </select>
                <input type="text" class="form-control" id="required-input" style="width:300px;" name="search_value">
                <button type="button" class="btn pull-right fa fa-times"></button> <button type="button" class="btn pull-right fa fa-search" onclick="search();"></button>
            </div>
            <table class="table table-striped table-bordered" id="dataTables-example">
                <colgroup>
					<col width="2%"><col width="10%"><col width="8%"><col width="5%"><col width="4%"><col width="3%" span="3"><col width="4%"><col width="3%"><col width="9%">
                </colgroup>
                <thead>
                <tr>
                    <th class="text-center" rowspan="2">
                        <label class="custom-control custom-checkbox custom-control-blank" for="fullChk">
                            <input type="checkbox" id="fullChk" class="custom-control-input" onclick="chkPullFn(this,'C','#sortable_board');">
                            <span class="custom-control-indicator"></span>
                        </label>
                    </th>
                    <th class="text-center" rowspan="2">게시판명</th>
                    <th class="text-center" rowspan="2">관리자</th>
                    <th class="text-center" rowspan="2">부서</th>
                    <th class="text-center" rowspan="2">사용량</th>
                    <th class="text-center" colspan="3">권한관리</th>
                    <th class="text-center" rowspan="2">요약게시판<span class="qusicon" data-toggle="tooltip" data-placement="right" title="요약게시판은 웹 메일3.0에서만 사용 가능 합니다. 웹 메일 3.0 은 기본 공지사항 게시판과 원하는 게시판을 요약게시판으로 설정 할 수 있습니다.">도움말</span></th>
                    <th class="text-center" rowspan="2">댓글<span class="qusicon" data-toggle="tooltip" data-placement="right" title="댓글은 해당 게시판에 댓글 허용여부를 선택한 내용이 표시되며 등록 시 설정 할 수 있으며, 기존에 등록된 게시판의 경우 설정에서 변경할 수 있습니다.">도움말</span></th>
                    <th class="text-center" rowspan="2">게시판 관리</th>
                </tr>
                <tr>
                    <th class="text-center">관리자</th>
                    <th class="text-center">부서</th>
                    <th class="text-center">사용자</th>
                </tr>
                </thead>

                <tbody id="sortable_board">

                </tbody>
            </table>
        </div>

        <!--페이징-->
        <nav class="text-center" id ="pagination">
           <!-- <ul class="pagination pagination-sm">
                <li class="disabled"><a href="#">«</a></li>
                <li class="active"><a href="#">1</a></li>
                <li><a href="#">2</a></li>
                <li><a href="#">3</a></li>
                <li><a href="#">4</a></li>
                <li><a href="#">5</a></li>
                <li><a href="#">»</a></li>
            </ul>-->
        </nav>
        <!--//페이징-->
        <!--//페이징-->
        <div id="viewLoading" class="loadingA" >
            <p>Loding...</p>
        </div>

    </div><!--//mailadmin-->
</div>

    <!--게시판 설정 및 등록 팝업-->
<!--게시판등록 및 설정팝업-->
<div class="modal" id="borderSet">
	<div class="modal-dialog" style="width:700px;">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal">×</button>
				<h4 class="modal-title">게시판 설정<!--등록--></h4>
			</div>
			<div class="modal-body">
				<table class="table table-bordered m-b-0">
					<colgroup>
						<col width="15%"><col width="15%"><col width="60%">
					</colgroup>
					<tbody>
						<tr>
							<th class="active">이름</th>
							<td colspan="2"><input type="text" id="board_title" class="form-control" placeholder="한/영 30자, 특수문자(~!@#$%^&-_)만 입력 가능합니다." maxlength="30"></td>
						</tr>
						<tr>
							<th class="active">부서</th>
							<td colspan="2">
								<div class="radiochkBox">
									<label class="custom-control custom-radio radio-inline">
										<input type="radio" name="division" class="custom-control-input" onclick="disabledFn(this, 'A');" value="ALL">
										<span class="custom-control-indicator"></span>	전체
									</label>
									<label class="custom-control custom-radio radio-inline">
										<input type="radio" name="division" class="custom-control-input" onclick="disabledFn(this, 'B');" value="person">
										<span class="custom-control-indicator"></span>	지정
									</label>
                                    <input type="hidden" name="department_uid" id="department_uid">
									<span class="m-l-1">
										<input type="text" class="form-control width50" id="divisionInput" disabled> <button type="button" class="btn open" onclick="popupFn('#divisionSearch');open_department_list();" disabled>찾기</button>
									</span>
								</div>
							</td>
						</tr>
						<tr>
							<th class="active">관리자</th>
							<td colspan="2">
								<div class="radiochkBox">
									<label class="custom-control custom-radio radio-inline">
										<input type="radio" name="admin" class="custom-control-input" onclick="disabledFn(this, 'A');"  value="ALL">
										<span class="custom-control-indicator"></span>	없음
									</label>
									<label class="custom-control custom-radio radio-inline">
										<input type="radio" name="admin" class="custom-control-input" onclick="disabledFn(this, 'B');" value="person">
										<span class="custom-control-indicator"></span>	지정
									</label>
                                    <input type="hidden" name="admin_id" id="admin_id">

                                    <span class="m-l-1">
										<input type="text" class="form-control width50" id="adminP" disabled> <button type="button" class="btn open" onclick="popupFn('#boardAdmin');open_admin_list();" disabled>찾기</button>
									</span>
								</div>
							</td>
						</tr>
						<tr>
							<th class="active" rowspan="4">관리권한</th>
						</tr>
						<tr>
							<td>관리자</td>
							<td>
                                <label class="custom-control custom-radio radio-inline">
                                    <input type="radio" name="admin_permit" class="custom-control-input" value="4">
                                    <span class="custom-control-indicator"></span>	권한없음
                                </label>
								<label class="custom-control custom-radio radio-inline">
									<input type="radio" name="admin_permit" class="custom-control-input" value="2">
									<span class="custom-control-indicator"></span>	읽기
								</label>
								<label class="custom-control custom-radio radio-inline">
									<input type="radio" name="admin_permit" class="custom-control-input" value="3">
									<span class="custom-control-indicator"></span>	읽기+쓰기
								</label>
                                <label class="custom-control custom-radio radio-inline">
                                    <input type="radio" name="admin_permit" class="custom-control-input"  value="1">
                                    <span class="custom-control-indicator"></span>	모든기능
                                </label>
							</td>
						</tr>
						<tr>
							<td>부서</td>
							<td>
                                <label class="custom-control custom-radio radio-inline">
                                    <input type="radio" name="department_permit" class="custom-control-input" value="4">
                                    <span class="custom-control-indicator"></span>	권한없음
                                </label>
								<label class="custom-control custom-radio radio-inline">
									<input type="radio" name="department_permit" class="custom-control-input" value="2">
									<span class="custom-control-indicator"></span>	읽기
								</label>
								<label class="custom-control custom-radio radio-inline">
									<input type="radio" name="department_permit" class="custom-control-input" value="3">
									<span class="custom-control-indicator"></span>	읽기+쓰기
								</label>
							</td>
						</tr>
						<tr>
							<td>사용자</td>
							<td>
                                <label class="custom-control custom-radio radio-inline">
                                    <input type="radio" name="other_permit" class="custom-control-input" value="4">
                                    <span class="custom-control-indicator"></span>	권한없음
                                </label>
								<label class="custom-control custom-radio radio-inline">
									<input type="radio" name="other_permit" class="custom-control-input" value="2">
									<span class="custom-control-indicator"></span>	읽기
								</label>
								<label class="custom-control custom-radio radio-inline">
									<input type="radio" name="other_permit" class="custom-control-input" value="3">
									<span class="custom-control-indicator"></span>	읽기+쓰기
								</label>
							</td>
						</tr>
						<tr>
							<th class="active">댓글</th>
							<td colspan="2">
								<label class="custom-control custom-radio radio-inline">
									<input type="radio" name="comment" class="custom-control-input" value="Y">
									<span class="custom-control-indicator"></span>	허용
								</label>
								<label class="custom-control custom-radio radio-inline">
									<input type="radio" name="comment" class="custom-control-input" value="N">
									<span class="custom-control-indicator"></span>	허용안함
								</label>
							</td>
						</tr>
					</tbody>
				</table>

				<p class="text-light"><i class="fa fa-exclamation-circle"></i> <font class="font-size-11">모든 기능은 삭제와 수정을 포함합니다.</font></p>
			</div>
			<div class="modal-footer text-center">
				<button type="button" class="btn btn-primary" onclick="add_board();" id="add_modify_submit">확인</button>
				<button type="button" class="btn" data-dismiss="modal" id="close_board_add_model"  >취소</button>
			</div>
		</div>
	</div>
</div>
<!--//게시판관리 설정팝업-->

<!--대상 부서 찾기 팝업-->
<div class="department popup" id="divisionSearch">
	<div class="modal-dialog modal-lg" style="width:300px;">
		<div class="modal-content">
			<div class="modal-header bg-success">
				<button type="button" class="close" onclick="popupFn('#divisionSearch');">×</button>
				<h4 class="modal-title">대상 부서 찾기</h4>
			</div>
			<div class="note note-info p-a-1 m-b-0 text-info">게시판을 사용할 부서를 선택하세요.</div>
			<div class="modal-body scroll">
				<ul class="divisionSearch" id="department_list">
				</ul>
			</div>
			<div class="modal-footer">
				<span class="pull-left font-size-14 text-info">0 명</span>
				<span class="pull-right">
					<button type="button" class="btn btn-primary" onclick="popupFn('#divisionSearch', '#divisionInput');">선택</button>
					<button type="button" class="btn" onclick="popupFn('#divisionSearch');">취소</button>
				</span>
			</div>
		</div>
	</div>
</div>
<!--//대상 부서 찾기 팝업-->

<!--게시판 관리자 추가 팝업-->
<div class="department popup" id="boardAdmin">
	<div class="modal-dialog modal-lg" style="width:300px;">
		<div class="modal-content">
			<div class="modal-header bg-success">
				<button type="button" class="close" onclick="popupFn('#boardAdmin');">×</button>
				<h4 class="modal-title">게시판 관리자 추가</h4>
			</div>
			<div class="note note-info p-a-1 m-b-0 text-info">게시판을 관리할 대상자를 선택하세요.</div>
			<div class="modal-body">
				<div class="search-box">
					<input type="text" class="form-control" id="name-search" placeholder="이름검색" onkeyup="keyCloseFn(this);">
					<button type="button" class="btn pull-right fa fa-times"></button>
					<button type="button" class="btn pull-right fa fa-search" onclick="search_user_add_setting( document.getElementById('name-search').value);"></button>
				</div>

				<div class="search-result">
					<h5 style="display: none;" id="search_result_cnt">검색결과 <font class="text-info">10</font> <i class="fa fa-repeat"></i></h5>
					<dl>
						<dt>이름[직급]/계정</dt>
						<dd class="chRadio" id="admin_list">
<!--							<span>검색어와 일치되는 사용자가 없습니다.</span>-->
<!--							<span>-->
<!--								<label class="custom-control custom-radio radio-inline">-->
<!--									<input type="radio" name="divisionName" class="custom-control-input" onclick="divisionText(this);">-->
<!--									<span class="custom-control-indicator"></span>	<font>김둘이[과장]/kim2</font>-->
<!--								</label>-->
<!--							</span>-->
<!--							<span>-->
<!--								<label class="custom-control custom-radio radio-inline">-->
<!--									<input type="radio" name="divisionName" class="custom-control-input" onclick="divisionText(this);">-->
<!--									<span class="custom-control-indicator"></span>	<font>김셋이[대리]/kim3</font>-->
<!--								</label>-->
<!--							</span>-->
<!--							<span>-->
<!--								<label class="custom-control custom-radio radio-inline">-->
<!--									<input type="radio" name="divisionName" class="custom-control-input" onclick="divisionText(this);">-->
<!--									<span class="custom-control-indicator"></span>	<font>김넷이[대리]/kim4</font>-->
<!--								</label>-->
<!--							</span>-->
<!--							<span>-->
<!--								<label class="custom-control custom-radio radio-inline">-->
<!--									<input type="radio" name="divisionName" class="custom-control-input" onclick="divisionText(this);">-->
<!--									<span class="custom-control-indicator"></span>	<font>김다섯[대리]/kim5</font>-->
<!--								</label>-->
<!--							</span>-->
<!--							<span>-->
<!--								<label class="custom-control custom-radio radio-inline">-->
<!--									<input type="radio" name="divisionName" class="custom-control-input" onclick="divisionText(this);">-->
<!--									<span class="custom-control-indicator"></span>	<font>김여섯[대리]/kim5</font>-->
<!--								</label>-->
<!--							</span>-->
<!--							<span>-->
<!--								<label class="custom-control custom-radio radio-inline">-->
<!--									<input type="radio" name="divisionName" class="custom-control-input" onclick="divisionText(this);">-->
<!--									<span class="custom-control-indicator"></span>	<font>김일곱[대리]/kim5</font>-->
<!--								</label>-->
<!--							</span>-->
<!--							<span>-->
<!--								<label class="custom-control custom-radio radio-inline">-->
<!--									<input type="radio" name="divisionName" class="custom-control-input" onclick="divisionText(this);">-->
<!--									<span class="custom-control-indicator"></span>	<font>김여덟[대리]/kim5</font>-->
<!--								</label>-->
<!--							</span>-->
						</dd>
					</dl>
				</div>
                <div id="viewLoading" class="loadingA viewLoding2">
                    <p>Loding...</p>
                </div>
			</div>
			<div class="modal-footer text-center">
				<button type="button" class="btn btn-primary" onclick="popupFn('#boardAdmin', '#adminP');">추가</button>
				<button type="button" class="btn" onclick="popupFn('#boardAdmin');" >취소</button>
			</div>
		</div>
	</div>
</div>
<!--//게시판 관리자 추가 팝업-->
    <!--//게시판 설정 및 등록 팝업-->

    <!--마이다이렉트 동의 팝업-->
			<!--Mydirect 연동 동의-->
			<div class="modal" id="modal-mydirect">
				<div class="modal-dialog">
					<div class="modal-content">
						<div class="modal-header bg-success">
							<button type="button" class="close" data-dismiss="modal">×</button>
							<h4 class="modal-title">Mydirect 연동 동의</h4>
						</div>
						<div class="modal-body font-size-12">
							<p>Mydirect와 웹메일관리자 연동동의하면  mydirect로 이동할 때 별도 로그인 없이 바로 서비스에 대한 추가 및 변경을 할 수 있습니다.</p>
							<div class="alert alert-info">
								<p><b>[주의사항]</b></p>
								<p>- 웹메일 관리자에서 mydirect이동시 최초 1회에 한해서 mydirect 접속 정보를 입력해서 바로 이용가능하며, mydirect연동시 서비스 추가, 서비스 변경,  A/S신청, 1:1알림등 바로 이용 가능합니다.</p>
								<p>- Mydirect연동 동의 하지 않는 경우 메일관리 > 메일 서비스 관리 > 메일 관리자 정보 하단동의여부에서 변경 가능합니다.</p>
								<p>- 사용자의 부주의로 mydirect 정보가 노출되는 경우 책임을 지지 않으므로 외부로 노출되지 않도록 관리해주시기 바랍니다.</p>
								<p>- 연동 동의시 mydirect이동 후 서비스관리, 이용료 관리, 회원정보관리등 서비스 주요 정보에 접근이 가능하므로 유의해주시기 바랍니다.</p>
								<p class="text-danger font-size-11">※ Mydirect 연동은 사용자의 편의를 위해 제공되며 연동에 이후  접근이나 사용으로 인해 발생하는 문제는 이용자의 책임이며 메일나라에서는 일체 책임지지 않습니다.</p>
							</div>

							<p><b>[인증키 위치 확인]</b></p>

							<div class="box">
								<div class="col-md-6">
									<p><img src="/new_adm/images/main/mydirect_img_01.gif"></p>
									<p class="font-size-12">Mydirect로그인 > 서비스관리 > 메일서비스 > 서비스정보보기 > 메일정보> 메일인증키</p>
								</div>
								<div class="col-md-6">
									<p><img src="/new_adm/images/main/mydirect_img_02.gif"></p>
									<p class="font-size-12">Mydirect로그인 > 서비스관리 > 사용서비스 > 서비스정보보기 > 서비스상태정보> 공통인증키</p>
								</div>
							</div>
							
							<div class="box">
								<ul>
									<li class="font-size-14"><b>Mydirect 와 웹메일관리자 연동(메일인증키등록)</b></li>
									<li>
										<label class="custom-control custom-radio radio-inline">
											<input type="radio" name="custom-radios-3" class="custom-control-input"  onclick="boxShow('.tab-1', 'A');">
											<span class="custom-control-indicator"></span>	동의
										</label>
										<label class="custom-control custom-radio radio-inline">
											<input type="radio" name="custom-radios-3" class="custom-control-input" checked onclick="boxShow('.tab-1', 'B');">
											<span class="custom-control-indicator"></span>	동의안함
										</label>
									</li>
								</ul>
							</div>
					<div class="confirm tab-1" >
                    <ul>
                        <li class="m-r-1">인증키입력</li>
                        <li>
                            <input type="text" id="sso_key" class="form-control" placeholder="인증키를 입력해주세요!"> <button type="button" class="btn btn-gray" onclick="check_sso()">연동확인</button>
                            <p id="success_sso" class="text-primary m-b-0" style="display:none"><i class="fa fa-exclamation-circle"></i> <font class="font-size-11">정상적으로 연동되었습니다!</font></p>
                            <p id="fail_sso" class="text-danger m-b-0" style="display:none"><i class="fa fa-exclamation-circle"></i> <font class="font-size-11">메일 인증키가 일치하지 않습니다.</font></p>
                        </li>
                    </ul>
                </div>

            </div>
            <div class="modal-footer text-sm-center">
                <button type="button" class="btn btn-primary" onclick="go_mydirect('main/main1.php')">Mydirect 바로이동</button>
                <button type="button" class="btn" data-dismiss="modal">창닫기</button>
            </div>
        </div>
    </div>
</div>
<script>
$(document).on('hide.bs.modal','#modal-mydirect', function () {
    $("#sso_key").val('');

});

</script>




			<!--//Mydirect 연동 동의-->
    <!--//마이다이렉트 동의 팝업-->

    <!--게시판용량추가 팝업-->
<!--게시판용량추가 팝업-->
<div class="modal fade" id="capacity">
	<div class="modal-dialog modal-lg" style="width:450px;">
		<div class="modal-content">
			<div class="modal-header bg-success">
				<button type="button" class="close" data-dismiss="modal">×</button>
				<h4 class="modal-title">게시판용량추가</h4>
			</div>
			<div class="modal-body">
				<p>게시판용량추가는 mydirect에서 진행됩니다.<br>바로 이동하시겠습니까?</p>
				<div class="alert">
					<h5 class="alert-heading">[신청방법]</h5>
					<p>1. mydirect > 서비스관리 > 메일서비스 > 서비스 추가 변경> 게시판용량 에서 원하는 용량을 입력하면 금액을 확인 후 "확인"버튼을 클릭시 결제가 진행됩니다.</p>
					<p>2. 결제 완료시 신청 및 완료 내용을 A/S신청내역에서 확인할 수 있습니다.<br>※ 신용카드/계좌이체는 바로적용, 무통장은 확인후 처리</p>
				</div>
			</div>

			<div class="modal-footer text-sm-center">
				<button type="button" class="btn btn-primary" onclick="go_mydirect('svcmng/svc_mail_change.php')">Mydirect 바로이동</button>
				<button type="button" class="btn" data-dismiss="modal">창닫기</button>
			</div>
		</div>
	</div>
</div>
<!--//게시판용량추가 팝업-->
    <!--//게시판용량추가 팝업-->



  <footer class="px-footer px-footer-bottom" id="px-footer">
	  Copyright © ACEBED All Rights Reserved.
  </footer>

  <!-- Get jQuery from Google CDN -->
  <!--[if !IE]> -->
    <script type="text/javascript"> window.jQuery || document.write('<script src="/new_adm/js/jquery.min.js?ver=1">'+"<"+"/script>"); </script>
  <!-- <![endif]-->
  <!--[if lte IE 9]>
    <script type="text/javascript"> window.jQuery || document.write('<script src="/new_adm/js/jquery.min.js?ver=1">'+"<"+"/script>"); </script>
  <![endif]-->


</body>
</html>
